<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>parse_bam &mdash; dimelo  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-rendered-html.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Example Gallery" href="../../auto_examples/index.html" />
    <link rel="prev" title="plot_enrichment_profile" href="plot_enrichment_profile.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> dimelo
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tools.html">Functions</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="qc_report.html">qc_report</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_browser.html">plot_browser</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_enrichment.html">plot_enrichment</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_enrichment_profile.html">plot_enrichment_profile</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">parse_bam</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dimelo-parse-bam---CLI-interface">dimelo-parse-bam - CLI interface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dimelo-parse-bam-optional-arguments">dimelo-parse-bam optional arguments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dimelo-parse-bam-required-arguments">dimelo-parse-bam required arguments</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/index.html">Example Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basecalling.html">Basecalling &amp; Alignment Suggestions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">dimelo</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="tools.html">Functions</a> &raquo;</li>
      <li>parse_bam</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/content/reference/parse_bam.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="parse-bam">
<h1>parse_bam<a class="headerlink" href="#parse-bam" title="Permalink to this headline"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="dimelo.parse_bam">
<span class="sig-name descname"><span class="pre">parse_bam</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileName</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampleName</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outDir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bedFile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basemod</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'A+CG'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">windowSize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshA</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">129</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshC</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">129</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extractAllBases</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cores</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#dimelo.parse_bam" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>fileName</dt><dd><p>name of bam file with Mm and Ml tags</p>
</dd>
<dt>sampleName</dt><dd><p>name of sample for output SQL table name labelling. Valid names contain [<code class="docutils literal notranslate"><span class="pre">a-zA-Z0-9_</span></code>].</p>
</dd>
<dt>outDir</dt><dd><p>directory where SQL database is stored</p>
</dd>
<dt>bedFile</dt><dd><p>name of bed file that defines regions of interest over which to extract mod calls. The bed file either defines regions over which to extract mod calls OR defines regions (likely motifs) over which to center positions for mod calls and then parse_bam extracts mod calls over a window flanking that region defined in by <code class="docutils literal notranslate"><span class="pre">windowSize</span></code>. Optional 4th column in bed file to specify strand of region of interest as <code class="docutils literal notranslate"><span class="pre">+</span></code> or <code class="docutils literal notranslate"><span class="pre">-</span></code>. Default is to consider regions as all <code class="docutils literal notranslate"><span class="pre">+</span></code>. NB. The <code class="docutils literal notranslate"><span class="pre">bedFile</span></code> and <code class="docutils literal notranslate"><span class="pre">region</span></code> parameters are mutually exclusive; specify one or the other.</p>
</dd>
<dt>basemod</dt><dd><p>One of the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'A'</span></code> - extract mA only</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'CG'</span></code> - extract mCpG only</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'A+CG'</span></code> - extract mA and mCpG</p></li>
</ul>
</dd>
<dt>center</dt><dd><p>One of the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'True'</span></code> - report positions with respect to center of motif window (+/- windowSize); only valid with bed file input</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'False'</span></code> - report positions in original reference space</p></li>
</ul>
</dd>
<dt>windowSize</dt><dd><p>window size around center point of feature of interest to plot (+/-); only mods within this window are stored; only used if center=True; still, only reads that span the regions defined in the bed file will be included; default is 1,000 bp</p>
</dd>
<dt>region</dt><dd><p>single region over which to extract base mods, rather than specifying many windows in bedFile; format is chr:start-end. NB. The <code class="docutils literal notranslate"><span class="pre">bedFile</span></code> and <code class="docutils literal notranslate"><span class="pre">region</span></code> parameters are mutually exclusive; specify one or the other.</p>
</dd>
<dt>threshA</dt><dd><p>threshold above which to call an A base methylated; default is 129</p>
</dd>
<dt>threshC</dt><dd><p>threshold above which to call a C base methylated; default is 129</p>
</dd>
<dt>extractAllBases</dt><dd><p>One of the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'True'</span></code> - Store all base mod calls, regardles of methylation probability threshold. Bases stored are those that can have a modification call (A, CG, or both depending on <code class="docutils literal notranslate"><span class="pre">basemod</span></code> parameter) and are sequenced bases, not all bases in the reference.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'False'</span></code> - Only modifications above specified threshold are stored</p></li>
</ul>
</dd>
<dt>cores</dt><dd><p>number of cores over which to parallelize; default is all available</p>
</dd>
</dl>
<p>Valid argument combinations for <code class="docutils literal notranslate"><span class="pre">bedFile</span></code>, <code class="docutils literal notranslate"><span class="pre">center</span></code>, and <code class="docutils literal notranslate"><span class="pre">windowSize</span></code> are below. Regions of interest generally fall into two categories: small motifs at which to center analysis (use <code class="docutils literal notranslate"><span class="pre">center</span></code> = True) or full windows of interest (do not specify <code class="docutils literal notranslate"><span class="pre">center</span></code> or <code class="docutils literal notranslate"><span class="pre">windowSize</span></code>).</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bedFile</span></code> –&gt; extract all modified bases in regions defined in bed file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bedfile</span></code> + <code class="docutils literal notranslate"><span class="pre">center</span></code> –&gt; extract all modified bases in regions defined in bed file, report positions relative to region centers and extract base modificiations within default windowSize of 1kb</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bedfile</span></code> + <code class="docutils literal notranslate"><span class="pre">center</span></code> + <code class="docutils literal notranslate"><span class="pre">windowSize</span></code> –&gt; extract all modified bases in regions defined in bed file, report positions relative to region centers and extract base modifications within flanking +/- windowSize</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">region</span></code> –&gt; extract all modified bases in single region</p></li>
</ul>
</div></blockquote>
<p><strong>Example</strong></p>
<p>For regions defined by <code class="docutils literal notranslate"><span class="pre">bedFile</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dm</span><span class="o">.</span><span class="n">parse_bam</span><span class="p">(</span><span class="s2">&quot;dimelo/test/data/mod_mappings_subset.bam&quot;</span><span class="p">,</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="s2">&quot;dimelo/dimelo_test&quot;</span><span class="p">,</span> <span class="n">bedFile</span><span class="o">=</span><span class="s2">&quot;dimelo/test/data/test.bed&quot;</span><span class="p">,</span> <span class="n">basemod</span><span class="o">=</span><span class="s2">&quot;A+CG&quot;</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">windowSize</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">threshA</span><span class="o">=</span><span class="mi">190</span><span class="p">,</span> <span class="n">threshC</span><span class="o">=</span><span class="mi">190</span><span class="p">,</span> <span class="n">extractAllBases</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cores</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
<p>For single region defined with <code class="docutils literal notranslate"><span class="pre">region</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dm</span><span class="o">.</span><span class="n">parse_bam</span><span class="p">(</span><span class="s2">&quot;dimelo/test/data/mod_mappings_subset.bam&quot;</span><span class="p">,</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="s2">&quot;dimelo/dimelo_test&quot;</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="s2">&quot;chr1:2907273-2909473&quot;</span><span class="p">,</span> <span class="n">basemod</span><span class="o">=</span><span class="s2">&quot;A+CG&quot;</span><span class="p">,</span> <span class="n">threshA</span><span class="o">=</span><span class="mi">190</span><span class="p">,</span> <span class="n">threshC</span><span class="o">=</span><span class="mi">190</span><span class="p">,</span> <span class="n">cores</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Return</strong></p>
<p>Returns a SQL database in the specified output directory. Database can be converted into pandas dataframe with:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fileName</span> <span class="o">=</span> <span class="s2">&quot;dimelo/test/data/mod_mappings_subset.bam&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sampleName</span> <span class="o">=</span> <span class="s2">&quot;test&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outDir</span> <span class="o">=</span> <span class="s2">&quot;dimelo/dimelo_test&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">all_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="s2">&quot;SELECT * from methylationByBase_&quot;</span> <span class="o">+</span> <span class="n">sampleName</span><span class="p">,</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">outDir</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="n">fileName</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.bam&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.db&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aggregate_counts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="s2">&quot;SELECT * from methylationAggregate_&quot;</span> <span class="o">+</span> <span class="n">sampleName</span><span class="p">,</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">outDir</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="n">fileName</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.bam&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.db&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>Each database contains these two tables with columns listed below:</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt>methylationByBase_sampleName</dt><dd><ul class="simple">
<li><p>id(read_name:pos)</p></li>
<li><p>read_name</p></li>
<li><p>chr</p></li>
<li><p>pos</p></li>
<li><p>prob</p></li>
<li><p>mod</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>methylationAggregate_sampleName</dt><dd><ul class="simple">
<li><p>id(pos:mod)</p></li>
<li><p>pos</p></li>
<li><p>mod</p></li>
<li><p>methylated_bases</p></li>
<li><p>total_bases</p></li>
</ul>
</dd>
</dl>
</li>
</ol>
<p>When running parse_bam with a region defined, a summary bed file is also produced to support visualizing aggregate data with any genome browser tool. The columns of this bed file are chr, start, end, methylated_bases, total_bases.</p>
<p>For example, to take a summary output bed and create a file with fraction of modified bases with a window size of 100 bp for visualization with the WashU browser, you could run the below commands in terminal:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bedtools</span> <span class="pre">makewindows</span> <span class="pre">-g</span> <span class="pre">ref_genome.chromsizes.txt</span> <span class="pre">-w</span> <span class="pre">100</span> <span class="pre">&gt;</span> <span class="pre">ref_genome_windows.100.bp.bed</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bedtools</span> <span class="pre">map</span> <span class="pre">-a</span> <span class="pre">ref_genome_windows.100.bp.bed</span> <span class="pre">-b</span> <span class="pre">outDir/fileName_sampleName_chr_start_end_A.bed</span> <span class="pre">-c</span> <span class="pre">4,5</span> <span class="pre">-o</span> <span class="pre">sum,sum</span> <span class="pre">-null</span> <span class="pre">0</span> <span class="pre">|</span> <span class="pre">awk</span> <span class="pre">-v</span> <span class="pre">&quot;OFS=\t&quot;</span> <span class="pre">'{if($5&gt;0){print</span> <span class="pre">$1,$2,$3,$4/$5}else{print</span> <span class="pre">$1,$2,$3,$5}}'</span> <span class="pre">&gt;</span> <span class="pre">outDir/fileName_sampleName_chr_start_end_A.100.bed</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bgzip</span> <span class="pre">outDir/fileName_sampleName_chr_start_end_A.100.bed</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tabix</span> <span class="pre">-f</span> <span class="pre">-p</span> <span class="pre">bed</span> <span class="pre">outDir/fileName_sampleName_chr_start_end_A.100.bed.gz</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<section id="dimelo-parse-bam---CLI-interface">
<h2>dimelo-parse-bam - CLI interface<a class="headerlink" href="#dimelo-parse-bam---CLI-interface" title="Permalink to this headline"></a></h2>
<p>Parse a bam file into DiMeLo database tables</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dimelo</span><span class="o">-</span><span class="n">parse</span><span class="o">-</span><span class="n">bam</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">-</span><span class="n">f</span> <span class="n">FILENAME</span> <span class="o">-</span><span class="n">s</span> <span class="n">SAMPLENAME</span> <span class="o">-</span><span class="n">o</span> <span class="n">OUTDIR</span> <span class="p">(</span><span class="o">-</span><span class="n">b</span> <span class="n">BEDFILE</span> <span class="o">|</span> <span class="o">-</span><span class="n">r</span> <span class="n">REGION</span><span class="p">)</span>
                 <span class="p">[</span><span class="o">-</span><span class="n">m</span> <span class="p">{</span><span class="n">A</span><span class="p">,</span><span class="n">CG</span><span class="p">,</span><span class="n">A</span><span class="o">+</span><span class="n">CG</span><span class="p">}]</span> <span class="p">[</span><span class="o">-</span><span class="n">A</span> <span class="n">THRESHA</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">C</span> <span class="n">THRESHC</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">p</span> <span class="n">CORES</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">c</span><span class="p">]</span>
                 <span class="p">[</span><span class="o">-</span><span class="n">w</span> <span class="n">WINDOWSIZE</span><span class="p">]</span>
</pre></div>
</div>
<section id="dimelo-parse-bam-optional-arguments">
<h3>dimelo-parse-bam optional arguments<a class="headerlink" href="#dimelo-parse-bam-optional-arguments" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p id="dimelo-parse-bam--h"><span id="dimelo-parse-bam---help"></span><a class="reference internal" href="#dimelo-parse-bam--h" title="dimelo-parse-bam -h"><strong><code class="docutils literal notranslate"><span class="pre">-h</span></code></strong></a>, <a class="reference internal" href="#dimelo-parse-bam---help" title="dimelo-parse-bam --help"><strong><code class="docutils literal notranslate"><span class="pre">--help</span></code></strong></a> - show this help message and exit</p></li>
<li><p id="dimelo-parse-bam--b"><span id="dimelo-parse-bam---bedFile"></span><a class="reference internal" href="#dimelo-parse-bam--b" title="dimelo-parse-bam -b"><strong><code class="docutils literal notranslate"><span class="pre">-b</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">BEDFILE</span></code>, <a class="reference internal" href="#dimelo-parse-bam---bedFile" title="dimelo-parse-bam --bedFile"><strong><code class="docutils literal notranslate"><span class="pre">--bedFile</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">BEDFILE</span></code> - name of bed file that defines regions of interest over which to extract mod calls (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p id="dimelo-parse-bam--r"><span id="dimelo-parse-bam---region"></span><a class="reference internal" href="#dimelo-parse-bam--r" title="dimelo-parse-bam -r"><strong><code class="docutils literal notranslate"><span class="pre">-r</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">REGION</span></code>, <a class="reference internal" href="#dimelo-parse-bam---region" title="dimelo-parse-bam --region"><strong><code class="docutils literal notranslate"><span class="pre">--region</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">REGION</span></code> - single region over which to extract base mods, e.g. <code class="docutils literal notranslate"><span class="pre">&quot;chr1:1-100000&quot;</span></code> (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p id="dimelo-parse-bam--m"><span id="dimelo-parse-bam---basemod"></span><a class="reference internal" href="#dimelo-parse-bam--m" title="dimelo-parse-bam -m"><strong><code class="docutils literal notranslate"><span class="pre">-m</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">BASEMOD</span></code>, <a class="reference internal" href="#dimelo-parse-bam---basemod" title="dimelo-parse-bam --basemod"><strong><code class="docutils literal notranslate"><span class="pre">--basemod</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">BASEMOD</span></code> - which base modifications to extract (default: <code class="docutils literal notranslate"><span class="pre">A+CG</span></code>)</p></li>
<li><p id="dimelo-parse-bam--A"><span id="dimelo-parse-bam---threshA"></span><a class="reference internal" href="#dimelo-parse-bam--A" title="dimelo-parse-bam -A"><strong><code class="docutils literal notranslate"><span class="pre">-A</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">THRESHA</span></code>, <a class="reference internal" href="#dimelo-parse-bam---threshA" title="dimelo-parse-bam --threshA"><strong><code class="docutils literal notranslate"><span class="pre">--threshA</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">THRESHA</span></code> - threshold above which to call an A base methylated (default: <code class="docutils literal notranslate"><span class="pre">129</span></code>)</p></li>
<li><p id="dimelo-parse-bam--C"><span id="dimelo-parse-bam---threshC"></span><a class="reference internal" href="#dimelo-parse-bam--C" title="dimelo-parse-bam -C"><strong><code class="docutils literal notranslate"><span class="pre">-C</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">THRESHC</span></code>, <a class="reference internal" href="#dimelo-parse-bam---threshC" title="dimelo-parse-bam --threshC"><strong><code class="docutils literal notranslate"><span class="pre">--threshC</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">THRESHC</span></code> - threshold above which to call a C base methylated (default: <code class="docutils literal notranslate"><span class="pre">129</span></code>)</p></li>
<li><p id="dimelo-parse-bam--e"><span id="dimelo-parse-bam---extractAllBases"></span><a class="reference internal" href="#dimelo-parse-bam--e" title="dimelo-parse-bam -e"><strong><code class="docutils literal notranslate"><span class="pre">-e</span></code></strong></a>, <a class="reference internal" href="#dimelo-parse-bam---extractAllBases" title="dimelo-parse-bam --extractAllBases"><strong><code class="docutils literal notranslate"><span class="pre">--extractAllBases</span></code></strong></a> - store all base mod calls, regardless of methylation probability threshold</p></li>
<li><p id="dimelo-parse-bam--p"><span id="dimelo-parse-bam---cores"></span><a class="reference internal" href="#dimelo-parse-bam--p" title="dimelo-parse-bam -p"><strong><code class="docutils literal notranslate"><span class="pre">-p</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">CORES</span></code>, <a class="reference internal" href="#dimelo-parse-bam---cores" title="dimelo-parse-bam --cores"><strong><code class="docutils literal notranslate"><span class="pre">--cores</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">CORES</span></code> - number of cores over which to parallelize (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p id="dimelo-parse-bam--c"><span id="dimelo-parse-bam---center"></span><a class="reference internal" href="#dimelo-parse-bam--c" title="dimelo-parse-bam -c"><strong><code class="docutils literal notranslate"><span class="pre">-c</span></code></strong></a>, <a class="reference internal" href="#dimelo-parse-bam---center" title="dimelo-parse-bam --center"><strong><code class="docutils literal notranslate"><span class="pre">--center</span></code></strong></a> - report positions with respect to center of motif window; only valid with bed file input</p></li>
<li><p id="dimelo-parse-bam--w"><span id="dimelo-parse-bam---windowSize"></span><a class="reference internal" href="#dimelo-parse-bam--w" title="dimelo-parse-bam -w"><strong><code class="docutils literal notranslate"><span class="pre">-w</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">WINDOWSIZE</span></code>, <a class="reference internal" href="#dimelo-parse-bam---windowSize" title="dimelo-parse-bam --windowSize"><strong><code class="docutils literal notranslate"><span class="pre">--windowSize</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">WINDOWSIZE</span></code> - window size around center point of feature of interest to plot (+/-); only mods within this window are stored (default: 1000 bp) (default: <code class="docutils literal notranslate"><span class="pre">1000</span></code>)</p></li>
</ul>
</section>
<section id="dimelo-parse-bam-required-arguments">
<h3>dimelo-parse-bam required arguments<a class="headerlink" href="#dimelo-parse-bam-required-arguments" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p id="dimelo-parse-bam--f"><span id="dimelo-parse-bam---fileName"></span><a class="reference internal" href="#dimelo-parse-bam--f" title="dimelo-parse-bam -f"><strong><code class="docutils literal notranslate"><span class="pre">-f</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">FILENAME</span></code>, <a class="reference internal" href="#dimelo-parse-bam---fileName" title="dimelo-parse-bam --fileName"><strong><code class="docutils literal notranslate"><span class="pre">--fileName</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">FILENAME</span></code> - name of bam file with Mm and Ml tags (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p id="dimelo-parse-bam--s"><span id="dimelo-parse-bam---sampleName"></span><a class="reference internal" href="#dimelo-parse-bam--s" title="dimelo-parse-bam -s"><strong><code class="docutils literal notranslate"><span class="pre">-s</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">SAMPLENAME</span></code>, <a class="reference internal" href="#dimelo-parse-bam---sampleName" title="dimelo-parse-bam --sampleName"><strong><code class="docutils literal notranslate"><span class="pre">--sampleName</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">SAMPLENAME</span></code> - name of sample for output SQL table name labelling (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p id="dimelo-parse-bam--o"><span id="dimelo-parse-bam---outDir"></span><a class="reference internal" href="#dimelo-parse-bam--o" title="dimelo-parse-bam -o"><strong><code class="docutils literal notranslate"><span class="pre">-o</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">OUTDIR</span></code>, <a class="reference internal" href="#dimelo-parse-bam---outDir" title="dimelo-parse-bam --outDir"><strong><code class="docutils literal notranslate"><span class="pre">--outDir</span></code></strong></a> <code class="docutils literal notranslate"><span class="pre">OUTDIR</span></code> - directory where SQL database is stored (default: <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="plot_enrichment_profile.html" class="btn btn-neutral float-left" title="plot_enrichment_profile" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../auto_examples/index.html" class="btn btn-neutral float-right" title="Example Gallery" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Annie Maslan &amp; Reet Mishra &amp; Jeremy Marcus.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>